<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modelo de Redes Neuronales - Proyecto ML</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Estilos Personalizados -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/modelo.css') }}">
</head>
<body>
    <!-- Barra de navegación -->
    <nav class="navbar navbar-expand-lg navbar-custom">
        <div class="container-fluid">
            <a class="navbar-brand" href="{{ url_for('home') }}">
                <i class="fas fa-brain me-2"></i>Proyecto ML - Deducción de Imágenes
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('home') }}">
                            <i class="fas fa-home me-1"></i>Inicio
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('entendimiento_negocio') }}">
                            <i class="fas fa-briefcase me-1"></i>Negocio
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('ingenieria_datos') }}">
                            <i class="fas fa-database me-1"></i>Datos
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="{{ url_for('modelo_neural') }}">
                            <i class="fas fa-project-diagram me-1"></i>Modelo
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('logout') }}">
                            <i class="fas fa-sign-out-alt me-1"></i>Cerrar sesión
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Contenido principal -->
    <div class="container mt-4">
        <!-- Encabezado de la sección -->
        <div class="section-header">
            <h1><i class="fas fa-project-diagram me-3"></i>Modelo de Redes Neuronales</h1>
            <p class="mb-0">Arquitectura CNN para deducción de imágenes y generación de comandos</p>
        </div>

        <!-- Arquitectura del Modelo -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card card-custom">
                    <div class="card-body p-4">
                        <div class="icon-box icon-box-pink">
                            <i class="fas fa-network-wired"></i>
                        </div>
                        <h3 class="card-title">Arquitectura del Modelo</h3>
                        <p class="text-muted mb-4">Red Neuronal Convolucional (CNN) con arquitectura personalizada</p>
                        
                        <div class="row">
                            <div class="col-md-8">
                                <div class="neural-layer">
                                    <strong>Input Layer</strong> - Entrada de imágenes 224x224x3 (RGB)
                                </div>
                                <div class="neural-layer">
                                    <strong>Conv2D Layer 1</strong> - 32 filtros, kernel 3x3, ReLU
                                </div>
                                <div class="neural-layer">
                                    <strong>MaxPooling2D</strong> - Pool size 2x2
                                </div>
                                <div class="neural-layer">
                                    <strong>Conv2D Layer 2</strong> - 64 filtros, kernel 3x3, ReLU
                                </div>
                                <div class="neural-layer">
                                    <strong>MaxPooling2D</strong> - Pool size 2x2
                                </div>
                                <div class="neural-layer">
                                    <strong>Conv2D Layer 3</strong> - 128 filtros, kernel 3x3, ReLU
                                </div>
                                <div class="neural-layer">
                                    <strong>GlobalAveragePooling2D</strong> - Reducción dimensional
                                </div>
                                <div class="neural-layer">
                                    <strong>Dense Layer 1</strong> - 256 neuronas, ReLU, Dropout 0.5
                                </div>
                                <div class="neural-layer">
                                    <strong>Dense Layer 2</strong> - 128 neuronas, ReLU, Dropout 0.3
                                </div>
                                <div class="neural-layer">
                                    <strong>Output Layer</strong> - 20 neuronas, Softmax (20 comandos)
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card bg-light h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <i class="fas fa-info-circle text-primary me-2"></i>Características
                                        </h5>
                                        <ul class="list-unstyled mt-3">
                                            <li class="mb-2">
                                                <i class="fas fa-check text-success me-2"></i>
                                                <strong>Parámetros:</strong> ~2.5M
                                            </li>
                                            <li class="mb-2">
                                                <i class="fas fa-check text-success me-2"></i>
                                                <strong>Activación:</strong> ReLU/Softmax
                                            </li>
                                            <li class="mb-2">
                                                <i class="fas fa-check text-success me-2"></i>
                                                <strong>Regularización:</strong> Dropout
                                            </li>
                                            <li class="mb-2">
                                                <i class="fas fa-check text-success me-2"></i>
                                                <strong>Optimizador:</strong> Adam
                                            </li>
                                            <li class="mb-2">
                                                <i class="fas fa-check text-success me-2"></i>
                                                <strong>Loss:</strong> Categorical Crossentropy
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Hiperparámetros y Configuración -->
        <div class="row mb-4">
            <div class="col-md-6 mb-3">
                <div class="card card-custom">
                    <div class="card-body p-4">
                        <div class="icon-box icon-box-red">
                            <i class="fas fa-sliders-h"></i>
                        </div>
                        <h4 class="card-title">Hiperparámetros</h4>
                        <table class="table table-sm mt-3">
                            <tbody>
                                <tr>
                                    <td><i class="fas fa-layer-group text-primary me-2"></i>Batch Size:</td>
                                    <td class="text-end"><strong>32</strong></td>
                                </tr>
                                <tr>
                                    <td><i class="fas fa-sync text-success me-2"></i>Épocas:</td>
                                    <td class="text-end"><strong>100</strong></td>
                                </tr>
                                <tr>
                                    <td><i class="fas fa-tachometer-alt text-warning me-2"></i>Learning Rate:</td>
                                    <td class="text-end"><strong>0.001</strong></td>
                                </tr>
                                <tr>
                                    <td><i class="fas fa-weight text-info me-2"></i>Decay:</td>
                                    <td class="text-end"><strong>1e-6</strong></td>
                                </tr>
                                <tr>
                                    <td><i class="fas fa-percentage text-danger me-2"></i>Dropout Rate:</td>
                                    <td class="text-end"><strong>0.5 / 0.3</strong></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 mb-3">
                <div class="card card-custom">
                    <div class="card-body p-4">
                        <div class="icon-box icon-box-purple">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h4 class="card-title">Métricas de Rendimiento</h4>
                        <div class="mt-3">
                            <div class="metric-card mb-3">
                                <h2 class="text-primary mb-0">89.5%</h2>
                                <p class="text-muted mb-0">Precisión (Accuracy)</p>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <div class="metric-card">
                                        <h5 class="text-success mb-0">87.2%</h5>
                                        <small class="text-muted">Precision</small>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="metric-card">
                                        <h5 class="text-warning mb-0">88.7%</h5>
                                        <small class="text-muted">Recall</small>
                                    </div>
                                </div>
                            </div>
                            <div class="metric-card mt-3">
                                <h5 class="text-info mb-0">87.9%</h5>
                                <small class="text-muted">F1-Score</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interfaz de Predicción -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card card-custom">
                    <div class="card-body p-4">
                        <div class="icon-box icon-box-indigo">
                            <i class="fas fa-upload"></i>
                        </div>
                        <h3 class="card-title">Interfaz de Predicción</h3>
                        <p class="text-muted mb-4">Carga una imagen para generar el comando asociado</p>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="upload-area">
                                    <i class="fas fa-cloud-upload-alt fa-4x text-muted mb-3"></i>
                                    <h5>Arrastra o haz clic para cargar imagen</h5>
                                    <p class="text-muted mb-0">Formatos: JPG, PNG | Max: 10MB</p>
                                    <button class="btn btn-primary mt-3">
                                        <i class="fas fa-folder-open me-2"></i>Seleccionar Archivo
                                    </button>
                                </div>
                                <div class="mt-3 text-center">
                                    <img id="preview" src="" alt="Vista previa" class="img-fluid rounded d-none" style="max-height: 300px;">
                                </div>
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <div class="card bg-light h-100">
                                    <div class="card-body">
                                        <h5>
                                            <i class="fas fa-brain text-primary me-2"></i>
                                            Resultado de la Predicción
                                        </h5>
                                        <div class="command-output mt-3">
                                            <div class="mb-2">
                                                <span class="text-info">$</span> Esperando imagen...
                                            </div>
                                            <div class="mt-3">
                                                <span class="text-muted">// El comando aparecerá aquí</span>
                                            </div>
                                        </div>
                                        <button class="btn btn-success w-100 mt-3" disabled>
                                            <i class="fas fa-play me-2"></i>Analizar Imagen
                                        </button>
                                        <div class="mt-3">
                                            <small class="text-muted">
                                                <i class="fas fa-info-circle me-1"></i>
                                                Tiempo estimado de procesamiento: 2-3 segundos
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comandos Disponibles -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card card-custom">
                    <div class="card-body p-4">
                        <h3 class="card-title">
                            <i class="fas fa-terminal text-success me-2"></i>
                            Comandos Disponibles (20 Categorías)
                        </h3>
                        <div class="row mt-3">
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-primary w-100 p-2">
                                    <i class="fas fa-arrow-up me-2"></i>MOVE_UP
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-success w-100 p-2">
                                    <i class="fas fa-arrow-down me-2"></i>MOVE_DOWN
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-warning w-100 p-2">
                                    <i class="fas fa-arrow-left me-2"></i>MOVE_LEFT
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-danger w-100 p-2">
                                    <i class="fas fa-arrow-right me-2"></i>MOVE_RIGHT
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-info w-100 p-2">
                                    <i class="fas fa-stop me-2"></i>STOP
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-secondary w-100 p-2">
                                    <i class="fas fa-play me-2"></i>START
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-dark w-100 p-2">
                                    <i class="fas fa-pause me-2"></i>PAUSE
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-primary w-100 p-2">
                                    <i class="fas fa-sync me-2"></i>ROTATE
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-success w-100 p-2">
                                    <i class="fas fa-search-plus me-2"></i>ZOOM_IN
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-warning w-100 p-2">
                                    <i class="fas fa-search-minus me-2"></i>ZOOM_OUT
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-danger w-100 p-2">
                                    <i class="fas fa-check me-2"></i>CONFIRM
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-info w-100 p-2">
                                    <i class="fas fa-times me-2"></i>CANCEL
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-secondary w-100 p-2">
                                    <i class="fas fa-save me-2"></i>SAVE
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-dark w-100 p-2">
                                    <i class="fas fa-trash me-2"></i>DELETE
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-primary w-100 p-2">
                                    <i class="fas fa-plus me-2"></i>ADD
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-success w-100 p-2">
                                    <i class="fas fa-minus me-2"></i>REMOVE
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-warning w-100 p-2">
                                    <i class="fas fa-edit me-2"></i>EDIT
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-danger w-100 p-2">
                                    <i class="fas fa-eye me-2"></i>VIEW
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-info w-100 p-2">
                                    <i class="fas fa-download me-2"></i>DOWNLOAD
                                </span>
                            </div>
                            <div class="col-md-3 col-sm-6 mb-2">
                                <span class="badge bg-secondary w-100 p-2">
                                    <i class="fas fa-upload me-2"></i>UPLOAD
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Historial de Predicciones -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card card-custom">
                    <div class="card-body p-4">
                        <h3 class="card-title">
                            <i class="fas fa-history text-warning me-2"></i>
                            Historial de Predicciones
                        </h3>
                        <div class="table-responsive mt-3">
                            <table class="table table-hover">
                                <thead class="table-light">
                                    <tr>
                                        <th>#</th>
                                        <th>Fecha</th>
                                        <th>Imagen</th>
                                        <th>Comando Generado</th>
                                        <th>Confianza</th>
                                        <th>Estado</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>15/10/2025 10:30</td>
                                        <td><i class="fas fa-image text-primary me-1"></i>imagen_001.jpg</td>
                                        <td><code>MOVE_UP</code></td>
                                        <td><span class="badge bg-success">92.5%</span></td>
                                        <td><i class="fas fa-check-circle text-success"></i> Completado</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>15/10/2025 10:28</td>
                                        <td><i class="fas fa-image text-primary me-1"></i>imagen_002.jpg</td>
                                        <td><code>ROTATE</code></td>
                                        <td><span class="badge bg-success">88.3%</span></td>
                                        <td><i class="fas fa-check-circle text-success"></i> Completado</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>15/10/2025 10:25</td>
                                        <td><i class="fas fa-image text-primary me-1"></i>imagen_003.jpg</td>
                                        <td><code>SAVE</code></td>
                                        <td><span class="badge bg-warning">75.1%</span></td>
                                        <td><i class="fas fa-exclamation-triangle text-warning"></i> Baja confianza</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Scripts Personalizados -->
    <script src="{{ url_for('static', filename='js/common.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modelo.js') }}"></script>
</body>
</html>
